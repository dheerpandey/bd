{"version":3,"file":"server_utils.js","sourceRoot":"","sources":["../../../../src/infrastructure/utils/server_utils.ts"],"names":[],"mappings":";;AACA,uCAAiC;AACjC,6DAA0D;AAE1D,4DAA+E;AAC/E,sCAAmC;AACnC,uCAA6C;AAE7C,SAAgB,WAAW,CAAC,KAAU;IAClC,8BAAG,CAAC,KAAK,CAAC,MAAM,KAAK,EAAE,CAAC,CAAC;IACzB,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;AACpB,CAAC;AAHD,kCAGC;AACD,SAAgB,cAAc,CAAC,GAAQ,EAAE,UAAmB;IACxD,MAAM,IAAI,GAAG,UAAU,IAAI,eAAM,CAAC,IAAI,CAAC;IACvC,OAAO,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,KAAU,EAAE,EAAE;QACnC,IAAI,KAAK;YAAE,WAAW,CAAC,KAAK,CAAC,CAAC;QAC9B,kBAAY,CAAC,IAAI,CAAM,aAAK,CAAC,GAAG,CAAC,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;IAC3D,CAAC,CAAC,CAAC;AACP,CAAC;AAND,wCAMC;AACD,SAAgB,SAAS,CAAC,EAAU;IAChC,OAAO,gBAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACtC,CAAC;AAFD,8BAEC","sourcesContent":["import { Server } from \"http\";\nimport { Types } from \"mongoose\";\nimport { TYPES } from \"../../core/domain/constants/types\";\nimport { App } from \"../bootstrapping/loaders/express\";\nimport { winstonLoggerInstance as log } from \"../bootstrapping/loaders/logger\";\nimport { config } from \"../config\";\nimport { iocContainer } from \"../config/ioc\";\n\nexport function exitProcess(error: any): void {\n    log.error(`❌  ${error}`);\n    process.exit(1);\n}\nexport function startAppServer(app: App, serverPort?: number): Server {\n    const port = serverPort || config.port;\n    return app.listen(port, (error: any) => {\n        if (error) exitProcess(error);\n        iocContainer.bind<App>(TYPES.App).toConstantValue(app);\n    });\n}\nexport function isIdValid(id: string): boolean {\n    return Types.ObjectId.isValid(id);\n}\n"]}