"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const constants_1 = require("./internal/constants");
/**
 * Defines an index (most likely compound) for this schema.
 * @param fields Wich fields to give the Options
 * @param options Options to pass to MongoDB driver's createIndex() function
 * @example Example:
 * ```
 *  @index({ article: 1, user: 1 }, { unique: true })
 *  class Name {}
 * ```
 */
function index(fields, options) {
    return (target) => {
        const indices = Reflect.getMetadata(constants_1.DecoratorKeys.Index, target) || [];
        indices.push({ fields, options });
        Reflect.defineMetadata(constants_1.DecoratorKeys.Index, indices, target);
    };
}
exports.index = index;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxvREFBcUQ7QUFrRXJEOzs7Ozs7Ozs7R0FTRztBQUNILFNBQWdCLEtBQUssQ0FBSSxNQUFTLEVBQUUsT0FBeUI7SUFDM0QsT0FBTyxDQUFDLE1BQVcsRUFBRSxFQUFFO1FBQ3JCLE1BQU0sT0FBTyxHQUFVLE9BQU8sQ0FBQyxXQUFXLENBQUMseUJBQWEsQ0FBQyxLQUFLLEVBQUUsTUFBTSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQzlFLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRSxNQUFNLEVBQUUsT0FBTyxFQUFFLENBQUMsQ0FBQztRQUNsQyxPQUFPLENBQUMsY0FBYyxDQUFDLHlCQUFhLENBQUMsS0FBSyxFQUFFLE9BQU8sRUFBRSxNQUFNLENBQUMsQ0FBQztJQUMvRCxDQUFDLENBQUM7QUFDSixDQUFDO0FBTkQsc0JBTUMifQ==